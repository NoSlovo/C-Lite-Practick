using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace GameConsoles1
{
    internal class Program
    {
        static void Main()
        {
            double heal = 10;
            double maxHeal = 100;
            double mana = 20;
            double maxMana = 100;
            DrawBar(heal, maxHeal,43,1,ConsoleColor.Red);
            DrawBar(mana, maxMana, 0, 2, ConsoleColor.Blue);
        }

        static void DrawBar(double value, double maxValue, double percent,int position, ConsoleColor color)
        {
            
            ConsoleColor defaultColor = Console.BackgroundColor;
            
            string bar = " ";
            if (value > 0 && maxValue > 0 && value <= 100 &&  maxValue >= value && maxValue <=100)
            {
                for (int i = 0; i <= value; i++)
                {
                    bar += '#';
                }

                Console.SetCursorPosition(0, position);
                Console.Write("[");
                Console.BackgroundColor = color;
                Console.Write(bar);
                Console.BackgroundColor = defaultColor;

                bar = "";

                for (double i = value; i < maxValue; i++)
                {
                    bar += ' ';
                }

                Console.Write(bar + "]");

            } else if (value == 0 && maxValue == 0 && percent > 0)
            {
                if (percent <=100)
                {
                    int maxPercetn = 100;
                    for (int i = 0; i <= percent; i++)
                    {
                        bar += '#';
                    }

                    Console.SetCursorPosition(0, position);
                    Console.Write("[");
                    Console.BackgroundColor = color;
                    Console.Write(bar);
                    Console.BackgroundColor = defaultColor;

                    bar = "";

                    for (double i = percent; i < maxPercetn; i++)
                    {
                        bar += ' ';
                    }

                    Console.Write(bar + "]");
                }
                else
                {
                    Console.WriteLine("Такого процента нет");
                }
                
            }
            else
            {
                Console.WriteLine("Нет данных");
            }
        }  
    }
}
