using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace GameConsoles1
{
    internal class Program
    {
        static void Main()
        {
            int count = 0;
            bool isWork = true;
            List<Player> players = new List<Player>();
            DataBase dataBase = new DataBase(players);

            while (isWork)
            {
                dataBase.AllPlayer();
                Console.WriteLine("Меню:\n1 - Добивить игрока\n2 - Забанить игрока\n3 - Разбанить икрока\n4 - удалить игрока");
                string userInput = Console.ReadLine();
                switch (userInput)
                {
                    case "1":
                        Console.Clear();
                        dataBase.AddPlayer(count++);
                    break;

                    case "2":
                        Console.Clear();
                        dataBase.BanPlayer();
                    break;

                    case "3":
                        Console.Clear();
                        dataBase.UnbanPlayer();
                    break;

                    case "4":
                        Console.Clear();
                        dataBase.DeletePlayer();
                    break;
                }
            }
        }
    }

    
    class DataBase
    {
        List<Player> players;
        public DataBase(List<Player> users)
        {
            players = users;
        }

        public void AllPlayer()
        {
            for (int i = 0; i < players.Count; i++)
            {
                players[i].Info();
            }
        }

        public void AddPlayer(int id)
        {               
            Console.WriteLine("Введите имя игрока");
            string name = Console.ReadLine();
            Random rand = new Random();
            int level = rand.Next(1, 11);
            bool flag = true;
            players.Add(new Player(id, name, level, flag));
        }

        public void BanPlayer()
        {
            int idBanPlayer = Convert.ToInt32(Console.ReadLine());
            if (idBanPlayer <= players.Count)
            {
                for (int i = 0; i < players.Count; i++)
                {
                    if (players[i].Id == idBanPlayer)
                    {
                        players[i].Flag = false;
                    }
                }
            }
            else 
            {
                Console.WriteLine("Такого ID нет ");
            }    
        }

        public void UnbanPlayer()
        {
            int idUnBanPlayer = Convert.ToInt32(Console.ReadLine());
            if (idUnBanPlayer <= players.Count)
            {
                for (int i = 0; i < players.Count; i++)
                {
                    if (players[i].Id == idUnBanPlayer)
                    {
                        players[i].Flag = true;
                    }
                }
            }
            else
            {
                Console.WriteLine("Такого ID нет ");
            }
        }

        public void DeletePlayer()
        {
            int idDaletePlayer = Convert.ToInt32(Console.ReadLine());
            if (idDaletePlayer <=players.Count)
            {
                for (int i = 0; i < players.Count; i++)
                {
                    if (players[i].Id == idDaletePlayer)
                    {
                        players.RemoveAt(i);
                    }
                }
            }
            else
            {
                Console.WriteLine("Такого ID нет ");
            }
        }
    }

    class Player
    {
        private int _id;
        private string _name;
        private int _level;
        private bool _flag;

        public int Id 
        {
            get { return _id; }
        }
        public bool Flag
        {
            get 
            {
                return _flag;
            }
             set
            {
                _flag = value;
            }
        }

        public Player(int id, string name, int level, bool flag = true)
        {
            _id = id;
            _name = name;
            _level = level;
            _flag = flag;
        }

        public void Info()
        {
            Console.WriteLine($"id игрока = {_id}, Имя игрока = {_name},Уровень игрока = {_level}, Его статус = {_flag}");
        }     
    }
}
