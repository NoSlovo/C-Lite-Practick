using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace GameConsoles1
{
    internal class Program
    {

        static void Main()
        {
            string[] nameArray = { "Павлов Виктор Анатольевич", "Поисковик Поисков Иванович", "Прокофьев Кантарович"};
            string[] positions = { "Программист", "Левел Дизайнер", "Сценарист"};
            bool isWork = true;

            while (isWork)
            {
                Console.WriteLine("Меню программы: ");
                Console.WriteLine("0 - Вывести все досье\n1 - Добивать досье\n2 - Поиск Досье\n3 - удалить досье\n4-выход\n\n");
                string userInput = Console.ReadLine();

                switch (userInput)
                {
                    case "0":
                        DisplayDossier( nameArray,  positions);
                        break;

                    case "1":
                        AddDossier(ref nameArray, ref positions);
                        break;

                    case "2":
                        SearchName(nameArray);
                        break;

                    case "3":
                        DeletePosition(ref nameArray, ref positions);
                        break;
                    
                    case "4":
                        isWork = false;
                        break;
                }

            }

        }

        static void AddDossier(ref string[] array, ref string[] arrayPosition)
        {
            Console.WriteLine("Введите ФИО");
            string addElement = Console.ReadLine();
            Console.WriteLine("Введитие должность");
            string addPosition = Console.ReadLine();
            
            Array.Resize<string>(ref array, array.Length + 1);
            Array.Resize<string>(ref arrayPosition, arrayPosition.Length + 1);
            arrayPosition[arrayPosition.Length - 1] = addPosition;
            array[array.Length - 1] = addElement;
        }

        static void SearchName(string[] arrayNames)
        {
            string userInput = Console.ReadLine();
            string result = "";
            for (int i = 0; i < arrayNames.Length;i++)
            {
                if (arrayNames[i].StartsWith(userInput))
                {
                    result = arrayNames[i];
                }
            }
            Console.WriteLine(result);
        }

        static void DisplayDossier( string[] arrayNames,  string[] position)
        {
            for (int i = 0; i < arrayNames.Length || i < position.Length; i++)
            {
                Console.Write($" {i + 1}-{arrayNames[i]} {position[i]} \t");
            }
        }

        static void DeletePosition(ref string[] array, ref string[] position)
        {
            Console.WriteLine("Введите номер сотрудника для удаления досье");
            int idPosition = Convert.ToInt32(Console.ReadLine());
            string[] newArray = new string[array.Length - 1];
            string[] newPosition = new string[position.Length - 1];
            for (int i = 0; i < array.Length; i++)
            {
                if (i + 1 != idPosition)
                {
                    newArray[i] = array[i];
                    newPosition[i] = position[i];
                }
            }

            array = newArray;
            position = newPosition;
            Console.WriteLine("Удалено!");
        }
    }
}
