using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace GameConsoles1
{
    internal class Program
    {
        static void Main()
        {
            string[] nameArray = { "Павлов Виктор Анатольевич", "Поисковик Поисков Иванович", "Прокофьев Кантарович", "Прокофьев Виктор Палыч" };
            string[] positions = { "Программист", "Левел Дизайнер", "Сценарист","Стажер"};
            bool isWork = true;

            while (isWork)
            {
                Console.WriteLine("Меню программы: ");
                Console.WriteLine("0 - Вывести все досье\n1 - Добивать досье\n2 - Поиск Досье\n3 - удалить досье\n4-выход\n\n");
                string userInput = Console.ReadLine();

                switch (userInput)
                {
                    case "0":
                        DisplayDossier( nameArray,  positions);
                        break;

                    case "1":
                        AddDossier(ref nameArray, ref positions);
                        break;

                    case "2":
                        SearchName(nameArray);
                        break;

                    case "3":
                        DeletePosition(ref nameArray, ref positions);
                        break;
                    
                    case "4":
                        isWork = false;
                        break;
                }
            }
        }

        static void AddDossier(ref string[] array, ref string[] arrayPosition)
        {
            Console.WriteLine("Введите ФИО");
            string addElement = Console.ReadLine();
            Console.WriteLine("Введитие должность");
            string addPosition = Console.ReadLine();
            addName(ref array, addElement);
            AddPosition(ref arrayPosition, addPosition);
        }

        static void SearchName(string[] arrayNames)
        {
            Console.WriteLine("Введите фамилию");
            string userInput = Console.ReadLine();
            foreach (string name  in arrayNames)
            {
                if (name.StartsWith(userInput))
                {
                    Console.WriteLine(name);
                }
            }


        }

        static void DisplayDossier( string[] arrayNames,  string[] position)
        {
            for (int i = 0; i < arrayNames.Length || i < position.Length; i++)
            {
                Console.Write($" {i + 1}-{arrayNames[i]} {position[i]} \n");
            }
        }

        static void DeletePosition(ref string[] array, ref string[] position)
        {
            Console.WriteLine("Введите номер досье на удаление");
            int userInput = Convert.ToInt32(Console.ReadLine());
            DeleteName(ref  array, userInput);
            DeletePosition(ref position, userInput);
        }

        static void DeleteName(ref string[] array, int numName)
        {
            if (array.Length >= numName)
            {
                string[] newNameArray = new string[array.Length - 1];

                for (int i = 0; i < array.Length; i++)
                {
                    if (i + 1 != numName)
                    {
                        newNameArray[i] = array[i];
                    }
                }
                array = newNameArray;
            }
        }
        
        static void DeletePosition(ref string[] position, int numPosition)
        {
            if (numPosition <= position.Length)
            {
                string[] newArrayPostion = new string[position.Length - 1];

                for (int i = 0; i < position.Length; i++)
                {
                    if (i + 1 != numPosition)
                    {
                        newArrayPostion[i] = position[i];
                    }
                }
                position = newArrayPostion;
            }
        }

        static void addName( ref string[] nameArray, string addName)
        {
            string[] newNameArray = new string[nameArray.Length + 1];

            for (int i = 0; i < nameArray.Length; i++)
            {
                newNameArray[i] = nameArray[i];
            }

            nameArray = newNameArray;
            nameArray[nameArray.Length - 1] = addName;
        }

        static void AddPosition( ref string[] namePosition, string addPosition)
        {
            string[] newPostion = new string[namePosition.Length + 1];

            for (int i = 0; i < namePosition.Length;i++)
            {
                newPostion[i] = namePosition[i];
            }
            namePosition = newPostion;
            namePosition[namePosition.Length - 1] = addPosition;
        }
     }
}
